"use strict";(self.webpackChunkmern_project=self.webpackChunkmern_project||[]).push([[109],{30563:function(e,t,n){n.d(t,{nK:function(){return C},Bb:function(){return w},Qv:function(){return R}});var r=n(1413),i=n(45987),a=n(92706),o=n(86005),c=n(77846),s=n(37762),u=n(16726),l=n(80184),d=function(e){var t=e.record;return void 0===t.upc?(0,l.jsx)(h,{record:t}):(0,l.jsx)(f,{record:t})},f=function(e){var t=e.record,n=function(e){var n,r=!1,i=t.identifiers.filter((function(e){return null!=e.offers})),a=(0,s.Z)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(r)break;r=o.offers.some((function(t){return t.FulfillmentChannel===e}))}}catch(c){a.e(c)}finally{a.f()}return r},r=t.wmsQuantity>0,i=n("MERCHANT"),a=n("AMAZON"),o=i||a,c="error",d="unknown";return r&&!o?(c="warning",d="Under Process"):!r&&i?(c="error",d="Zombie Asins"):r||o?r&&o?(c="success",d="Finished"):!r&&a&&(c="success",d="Amazon"):(c="default",d="Out of Stock"),(0,l.jsx)(u.Z,{status:c,text:d})},h=function(e){e.record;return(0,l.jsx)(u.Z,{status:"processing"})},p=n(45863),x=n(83099),I=n(32385),E=n(87309),m=n(83388),y=n(37295),v=p.Z.Link,g=function(){var e={block:!0,size:"large",type:"primary"},t=[{key:"action1",label:(0,l.jsx)(E.ZP,(0,r.Z)((0,r.Z)({},e),{},{children:"Action 1"}))},{key:"delete",label:(0,l.jsx)(E.ZP,(0,r.Z)((0,r.Z)({},e),{},{danger:!0,onClick:function(){},children:"Delete"}))}];return(0,l.jsx)(m.Z,{items:t})},Z=function(e){var t=e.actions,n=e.record;return(0,l.jsxs)(x.Z,{size:"middle",onClick:function(e){e.stopPropagation()},children:[(0,l.jsx)(v,{onClick:function(e){t.save(n.key)},children:"Save"}),(0,l.jsx)(v,{onClick:function(e){t.cancel()},children:"Cancel"})]})},T=function(e){var t=e.actions,n=e.record,r=t.isEditing(n),i=""!==t.editingKey;return r?(0,l.jsx)(Z,{onClick:function(e){e.stopPropagation()},actions:t,record:n}):(0,l.jsxs)(x.Z,{size:"middle",onClick:function(e){e.stopPropagation()},children:[(0,l.jsx)(v,{disabled:!0,onClick:function(){t.publish(n)},children:"Publish"}),(0,l.jsx)(v,{disabled:i,onClick:function(){t.edit(n)},children:"Edit"}),(0,l.jsx)(I.Z,{trigger:["click"],menu:g,children:(0,l.jsxs)(v,{children:["More ",(0,l.jsx)(y.Z,{})]})})]})},_=["editing","dataIndex","title","inputType","record","index","children"],C=function(e){var t=e.editing,n=e.dataIndex,s=e.title,u=e.inputType,d=(e.record,e.index,e.children),f=(0,i.Z)(e,_),h="number"===u?(0,l.jsx)(a.Z,{min:0}):(0,l.jsx)(o.Z,{});return(0,l.jsx)("td",(0,r.Z)((0,r.Z)({},f),{},{children:t?(0,l.jsx)(c.Z.Item,{name:n,rules:[{required:!0,message:"Please Input ".concat(s,"!")}],style:{marginBottom:0},onClick:function(e){e.stopPropagation()},children:h}):d}))},k=function(e,t){return e.map((function(e){return e.editable?(0,r.Z)((0,r.Z)({},e),{},{onCell:function(n){return{record:n,inputType:e.inputType?e.inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:t.isEditing(n)}}}):e}))},w=function(e){return k([{title:"Upc",dataIndex:"upc",editable:!0,width:"40%",searchable:!0},{title:"WMS Quantity",dataIndex:"wmsQuantity",editable:!1,width:"10%",sorter:function(e,t){return void 0===e.wmsQuantity?-1:void 0===t.wmsQuantity?1:e.wmsQuantity-t.wmsQuantity},searchable:!0,defaultSortOrder:"descend"},{title:"Unit Cost",dataIndex:"unitCost",editable:!1,width:"10%"},{title:"Status",dataIndex:"status",key:"state",width:"20%",render:function(e,t){return(0,l.jsx)(d,{record:t})}},{title:"Action",key:"action",width:"20%",render:function(t,n){return(0,l.jsx)(T,{actions:e,record:n})}}],e)},R=function(e){return k([{title:"Asin",dataIndex:"asin",key:"asin",editable:!1,width:"20%"},{title:"Sku",dataIndex:"SellerSKU",key:"sku",editable:!1,width:"30%"},{title:"Fulfillment Channel",dataIndex:"FulfillmentChannel",key:"fulfillmentChannel",editable:!1,width:"15%",filters:[{text:"Amazon",value:"AMAZON"},{text:"Merchant",value:"MERCHANT"}],onFilter:function(e,t){return t.FulfillmentChannel.includes(e)}},{title:"Amazon Regular Price",dataIndex:["RegularPrice","Amount"],key:"amzRegularPrice",editable:!1,width:"15%"},{title:"Status",dataIndex:"status",key:"state",width:"5%",render:function(e,t){return(0,l.jsx)(d,{record:t})}},{title:"Operation",dataIndex:"operation",key:"operation",width:"15%",render:function(t,n){return(0,l.jsx)(T,{actions:e,record:n})}}],e)}},29205:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(1413),i=n(15671),a=n(43144),o=n(60136),c=n(27277),s=n(72791),u=n(78687),l=n(86005),d=n(83099),f=n(87309),h=n(49766),p=n(96263),x=n.n(p),I=n(11730),E=n(24258),m=n(83783),y=n(80184),v=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,i.Z)(this,n),(a=t.call(this,e)).searchInput=void 0,a.setTableUserSettings=function(e){var t=e.searchText,n=e.searchedRowId,r=e.searchedColumn;""!==t&&a.setState({searchText:t,searchedRowId:n,searchedColumn:r})},a.addSearchPropsToColumns=function(e,t){return e.map((function(e){return e.searchable?(0,r.Z)((0,r.Z)({},e),t(e.dataIndex)):(0,r.Z)({},e)}))},a.handleScrollPosition=function(e,t){if(""!==t.searchedRowId){var n=a.locateSearchedItem(e,t.searchedRowId);a.setState({searchedRowId:n._id}),a.scrollToTableRow(document,n.index)}},a.locateSearchedItem=function(e,t){var n=e.find((function(e){return e._id===t})),r=e.findIndex((function(e){return e._id===t}));return{index:r||0,_id:n?n._id:""}},a.scrollToTableRow=function(e,t){e.getElementsByClassName("ant-layout-content site-layout-content")[0].scrollTop=75.31*(t-0)},a.handleSearch=function(e,t,n){t();var r=(0,m.gI)(e[0]);a.setState({searchText:r,searchedColumn:n})},a.handleReset=function(e){e&&e(),a.setState({searchText:""})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,o=t.clearFilters;return(0,y.jsxs)("div",{style:{padding:8},children:[(0,y.jsx)(l.Z,{ref:a.searchInput,placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[""])},onPressEnter:function(){return a.handleSearch(r,i,e)},style:{marginBottom:8,display:"block"}}),(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(f.ZP,{type:"primary",onClick:function(){return a.handleSearch(r,i,e)},icon:(0,y.jsx)(I.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,y.jsx)(f.ZP,{size:"small",style:{width:90},onClick:function(){return a.handleReset(o)},children:"Reset"})]})]})},filteredValue:a.state.searchedColumn===e?[a.state.searchText]:[],filterIcon:function(e){return(0,y.jsx)(I.Z,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return void 0!==t&&(!!n[e]&&n[e].toString().toLowerCase().includes(t.toString().toLowerCase()))},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){var e;return null===(e=a.searchInput.current)||void 0===e?void 0:e.select()}),100)},render:function(t,n){return a.state.searchedColumn===e?(0,y.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:n.link,children:(0,y.jsx)(x(),{highlightStyle:{backgroundColor:"#c7edcc",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t?t.toString():""})}):a.state.searchedRowId===n._id?(0,y.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:n.link,children:(0,y.jsx)(x(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[t],autoEscape:!0,textToHighlight:t?t.toString():""})}):(0,y.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:n.link,children:t})}}},a.state={searchText:"",searchedRowId:"",searchedColumn:""},a.searchInput=s.createRef(),a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.dataSource;e&&this.handleScrollPosition(e,(0,r.Z)({},this.state))}},{key:"componentDidUpdate",value:function(e,t){this.state.searchText!==t.searchText&&this.props.saveUserTableSettings((0,r.Z)({},this.state))}},{key:"render",value:function(){var e=this.props,t=e.dataSource,n=e.loading,i=e.handleRowClick,a=e.tableUserSettings,o=this.props.columns,c=this.addSearchPropsToColumns(o,this.getColumnSearchProps);return(0,y.jsx)(h.Z,(0,r.Z)({dataSource:t,loading:n,showSorterTooltip:!0,columns:c,onRow:i?function(e){return{onClick:function(){return i(e)}}}:void 0},a))}}]),n}(s.Component),g=(0,u.$j)(null,{saveUserTableSettings:E.L1})(v)},93343:function(e,t,n){n.d(t,{BB:function(){return f},Dv:function(){return h},yW:function(){return d}});n(72791);var r=n(45863),i=n(77128),a=n(38307),o=n(57689),c=n(66106),s=n(30914),u=n(80184),l=r.Z.Title,d=function(e){var t=e.title,n=e.subTitle,r=(0,o.s0)();return(0,u.jsx)(a.m,{style:{width:"100%",paddingBlock:0,paddingInline:0},onBack:function(){r(-1)},title:(0,u.jsx)(l,{level:2,style:{whiteSpace:"normal",wordWrap:"break-word"},children:t}),subTitle:n})},f=function(e){var t=e.title,n=e.subTitle;return(0,u.jsx)(i.Z,{plain:!0,children:(0,u.jsx)(a.m,{className:"site-page-header",title:t,subTitle:n})})},h=function(e){var t=e.children;return(0,u.jsx)(c.Z,{gutter:[24,24],style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)(s.Z,{span:18,children:t})})}},83783:function(e,t,n){n.d(t,{Jo:function(){return i},gI:function(){return r}});n(72426);var r=function(e){return e.replace(/^\s+|\s+$/g,"")};function i(e){return Object.keys(e).forEach((function(t){if("string"===typeof e[t]){var n=e[t].trim().toLowerCase();e[t]=n}})),e}},24258:function(e,t,n){n.d(t,{HA:function(){return E},L1:function(){return y},Q:function(){return I},Rf:function(){return m},d4:function(){return x}});var r=n(1413),i=n(74165),a=n(15861),o=n(31243),c=n(72426),s=n.n(c),u=n(34796),l=n(6803),d=n(34219),f=n(97922),h=function(){return{type:l.JE}};function p(e){switch(e){case l.lA:return{routes:"microsoft",type:{CLEAR_ERRORS:l.WD,GET_ITEM_DETAIL:l.Pd,GET_ITEM_ONLINE_PRICE:l.q$,ITEMS_ONLINE_PRICE_LOADING:l.ZB,ON_RETRIEVED_ONLINE_PRICE:l.ug,FAILED_RETRIEVE_DEALS_INFO:l.yd}};case l.Yx:return{routes:"bestbuy",type:{CLEAR_ERRORS:l.Tp,GET_ITEM_DETAIL:l.Op,ADD_ITEM_SPEC:l.b1,GET_ITEM_ONLINE_PRICE:l.JH,ITEMS_ONLINE_PRICE_LOADING:l.qp,ON_RETRIEVED_ONLINE_PRICE:l.UT,FAILED_RETRIEVE_DEALS_INFO:l._o}};default:return}}var x=function(e){return function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n,r){var a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p(e)){t.next=3;break}return t.abrupt("return");case 3:n({type:a.type.ITEMS_ONLINE_PRICE_LOADING}),o.Z.get("/api/".concat(a.routes,"/crawl/v1/laptop/prices"),(0,d.Y2)(r)).then((function(e){n((0,f.h)(e.data.msg,e.status,a.type.ITEMS_ONLINE_PRICE_LOADING))})).catch((function(e){n((0,f.j)()),n((0,f.h)(e.response.msg,e.response.status,l.Cg))}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=p(e)){t.next=3;break}return t.abrupt("return");case 3:n({type:r.type.GET_ITEM_ONLINE_PRICE}),n((0,f.j)()),n((0,f.h)("".concat(e," Bot Finished!"),200,r.type.GET_ITEM_ONLINE_PRICE));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=p(e)){t.next=3;break}return t.abrupt("return");case 3:n({type:r.type.GET_ITEM_ONLINE_PRICE}),n((0,u.b)(r.type.CLEAR_ERRORS)),n((0,u.d)("".concat(e," Bot throw Exceptions"),400,r.type.FAILED_RETRIEVE_DEALS_INFO));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t,n){return function(){var c=(0,a.Z)((0,i.Z)().mark((function a(c,l){var f;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c(h()),f=p(e),o.Z.get("/api/".concat(null===f||void 0===f?void 0:f.routes,"/v1/deal/detail/id/").concat(t),(0,r.Z)((0,r.Z)({},(0,d.Y2)(l)),{},{signal:n})).then((function(e){var t=e.data;t.price_timestamps.forEach((function(e){e.date=s()(e.date).format("MMM Do YYYY HH:mm a")})),c({type:f.type.GET_ITEM_DETAIL,payload:t})})).catch((function(e){e.response?c((0,u.d)(e.response.data.msg,e.response.status)):console.error(e)}));case 3:case"end":return i.stop()}}),a)})));return function(e,t){return c.apply(this,arguments)}}()},y=function(e){return function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(h()),n({type:l.n6,payload:(0,r.Z)({},e)});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=109.e178117d.chunk.js.map