"use strict";(self.webpackChunkmern_project=self.webpackChunkmern_project||[]).push([[375],{93343:function(t,e,n){n.d(e,{BB:function(){return f},Dv:function(){return d},yW:function(){return p}});n(72791);var r=n(45863),i=n(77128),a=n(38307),u=n(57689),c=n(66106),s=n(30914),o=n(80184),l=r.Z.Title,p=function(t){var e=t.title,n=t.subTitle,r=(0,u.s0)();return(0,o.jsx)(a.m,{style:{width:"100%",paddingBlock:0,paddingInline:0},onBack:function(){r(-1)},title:(0,o.jsx)(l,{level:2,style:{whiteSpace:"normal",wordWrap:"break-word"},children:e}),subTitle:n})},f=function(t){var e=t.title,n=t.subTitle;return(0,o.jsx)(i.Z,{plain:!0,children:(0,o.jsx)(a.m,{className:"site-page-header",title:e,subTitle:n})})},d=function(t){var e=t.children;return(0,o.jsx)(c.Z,{gutter:[24,24],style:{display:"flex",justifyContent:"center"},children:(0,o.jsx)(s.Z,{span:18,children:e})})}},57375:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=n(72791),i=n(45863),a=n(10183),u=n(66106),c=n(30914),s=n(20043),o=n(24258),l=n(57689),p=n(78687),f=n(93343),d=n(50369),E={COLORS:{BLACK:"#121212"},COLORS_RGB:{BLACK:"rgb(28,28,30)",GREEN:"rgb(52,199,89)",RED:"rgb(255, 59,48)",WHITE:"rgb(229,229,234)",GREY:"rgb(142,142,147)"}},_=n(80184);var I=function(t){var e=t.dealData,n=t.discount,i=r.useRef();return(0,r.useEffect)((function(){if(e){var t=function(t,e,n){return{labels:t,datasets:[{label:"$",data:e,borderColor:n,fill:!1,tension:.4}]}}(function(t){var e=[];return(e=t.map((function(t){return t.date}))).unshift(t[0].date),e}(e.price_timestamps),function(t){var e=[],n=t[0];return(e=t.map((function(t){return t.price}))).unshift(n.price),e}(e.price_timestamps),function(t){var e=E.COLORS_RGB.BLACK;return t>0?e=E.COLORS_RGB.RED:t<0&&(e=E.COLORS_RGB.GREEN),e}(n)),r=function(t){return{type:"line",data:t,options:{responsive:!0,plugins:{title:{display:!1,text:"Chart.js Line Chart - Cubic interpolation mode"},legend:{display:!1}},interaction:{intersect:!1},scales:{x:{display:!0,title:{display:!0},grid:{display:!1}},y:{display:!1,title:{display:!0,text:"Value"},suggestedMin:200,suggestedMax:1500,grid:{display:!1}}}}}}(t);i.current&&i.current.destroy(),i.current=new d.Z("chart",r)}return function(){i.current&&i.current.destroy()}}),[e,n]),(0,_.jsx)("canvas",{id:"chart",width:"900px"})},v=n(14057),R=i.Z.Title,h=function(){var t=(0,p.I0)(),e=(0,p.v9)((function(t){return t.item})),n=e.dealData,i=e.loading,d=(0,l.UO)(),E=d.storeId,h=d.dealId;(0,r.useEffect)((function(){var e=new AbortController;return E&&h&&t((0,o.Rf)(E,h,e.signal)),function(){e.abort()}}),[h]);var y=(0,r.useMemo)((function(){return null!==n&&void 0!==n&&n.priceDiff?Number(n.priceDiff.toFixed(2)):0}),[n]),m=(0,r.useMemo)((function(){return null!==(t=n)&&void 0!==t&&t.priceDiff?Number((t.priceDiff/t.currentPrice*100).toFixed(2)):0;var t}),[n]),L=(0,r.useMemo)((function(){if(null!==n&&void 0!==n&&n.price_timestamps){var t=n.price_timestamps;return t.length>0?t[t.length-1].date.toString():"Not Available"}return"Not Available"}),[n]),N=n||{},T=N.name,x=N.currentPrice;return(0,_.jsx)(a.Z,{loading:i,active:!0,children:T&&(0,_.jsx)(u.Z,{gutter:[24,24],style:{display:"flex",justifyContent:"center"},children:(0,_.jsxs)(c.Z,{span:18,children:[(0,_.jsx)(f.yW,{title:T}),(0,_.jsxs)(c.Z,{style:{marginLeft:16},children:[(0,_.jsxs)(u.Z,{children:[(0,_.jsxs)(R,{level:5,className:"price-row-price",children:["$",x]}),(0,_.jsx)(s.Z,{indicator:(0,_.jsx)(v.Z,{spin:!0}),style:{fontSize:0,color:"black"}})]}),(0,_.jsxs)(R,{level:5,children:["$",y," | ",m,"%"]}),(0,_.jsxs)(R,{level:5,children:["Last Record Time: ",L]})]}),(0,_.jsx)(I,{dealData:n,discount:y})]})})})}},24258:function(t,e,n){n.d(e,{HA:function(){return v},L1:function(){return h},Q:function(){return I},Rf:function(){return R},d4:function(){return _}});var r=n(1413),i=n(74165),a=n(15861),u=n(31243),c=n(72426),s=n.n(c),o=n(34796),l=n(6803),p=n(34219),f=n(97922),d=function(){return{type:l.JE}};function E(t){switch(t){case l.lA:return{routes:"microsoft",type:{CLEAR_ERRORS:l.WD,GET_ITEM_DETAIL:l.Pd,GET_ITEM_ONLINE_PRICE:l.q$,ITEMS_ONLINE_PRICE_LOADING:l.ZB,ON_RETRIEVED_ONLINE_PRICE:l.ug,FAILED_RETRIEVE_DEALS_INFO:l.yd}};case l.Yx:return{routes:"bestbuy",type:{CLEAR_ERRORS:l.Tp,GET_ITEM_DETAIL:l.Op,ADD_ITEM_SPEC:l.b1,GET_ITEM_ONLINE_PRICE:l.JH,ITEMS_ONLINE_PRICE_LOADING:l.qp,ON_RETRIEVED_ONLINE_PRICE:l.UT,FAILED_RETRIEVE_DEALS_INFO:l._o}};default:return}}var _=function(t){return function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n,r){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E(t)){e.next=3;break}return e.abrupt("return");case 3:n({type:a.type.ITEMS_ONLINE_PRICE_LOADING}),u.Z.get("/api/".concat(a.routes,"/crawl/v1/laptop/prices"),(0,p.Y2)(r)).then((function(t){n((0,f.h)(t.data.msg,t.status,a.type.ITEMS_ONLINE_PRICE_LOADING))})).catch((function(t){n((0,f.j)()),n((0,f.h)(t.response.msg,t.response.status,l.Cg))}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},I=function(t){return function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E(t)){e.next=3;break}return e.abrupt("return");case 3:n({type:r.type.GET_ITEM_ONLINE_PRICE}),n((0,f.j)()),n((0,f.h)("".concat(t," Bot Finished!"),200,r.type.GET_ITEM_ONLINE_PRICE));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E(t)){e.next=3;break}return e.abrupt("return");case 3:n({type:r.type.GET_ITEM_ONLINE_PRICE}),n((0,o.b)(r.type.CLEAR_ERRORS)),n((0,o.d)("".concat(t," Bot throw Exceptions"),400,r.type.FAILED_RETRIEVE_DEALS_INFO));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=function(t,e,n){return function(){var c=(0,a.Z)((0,i.Z)().mark((function a(c,l){var f;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c(d()),f=E(t),u.Z.get("/api/".concat(null===f||void 0===f?void 0:f.routes,"/v1/deal/detail/id/").concat(e),(0,r.Z)((0,r.Z)({},(0,p.Y2)(l)),{},{signal:n})).then((function(t){var e=t.data;e.price_timestamps.forEach((function(t){t.date=s()(t.date).format("MMM Do YYYY HH:mm a")})),c({type:f.type.GET_ITEM_DETAIL,payload:e})})).catch((function(t){t.response?c((0,o.d)(t.response.data.msg,t.response.status)):console.error(t)}));case 3:case"end":return i.stop()}}),a)})));return function(t,e){return c.apply(this,arguments)}}()},h=function(t){return function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(d()),n({type:l.n6,payload:(0,r.Z)({},t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=375.ccefe51a.chunk.js.map