"use strict";(self.webpackChunkmern_project=self.webpackChunkmern_project||[]).push([[189],{48430:function(e,t,n){var a=n(1413),r=(n(72791),n(98583)),i=n(46988),c=n(66776),o=n(78687),s=n(80184),d=r.Z.Dragger;t.Z=function(e){var t=e.customizedUpload,n=(0,o.I0)(),r={name:"file",multiple:!0,accept:".txt, .csv",onChange:function(e){var t=e.file,n=t.status,a=t.response,r=t.error;"uploading"!==n&&console.log(e.file,e.fileList),"done"===n?i.ZP.success("".concat(e.file.name," upload successful.\n").concat(a)):"error"===n&&i.ZP.error("".concat(e.file.name," upload failed.\n").concat(r))},customRequest:function(e){var a=e.file,r=e.onSuccess,i=e.onError;n(t({file:a,onSuccess:r,onError:i}))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)},beforeUpload:function(e,t){[]}};return(0,s.jsxs)(d,(0,a.Z)((0,a.Z)({},r),{},{children:[(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(c.Z,{})}),(0,s.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,s.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))}},78989:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var a=n(74165),r=n(93433),i=n(15861),c=n(1413),o=n(15671),s=n(43144),d=n(60136),u=n(27277),l=n(72791),p=n(78687),f=n(52007),h=n.n(f),m=n(77846),g=n(88367),v=n(29439),y=n(32358),b=n(77106),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}},{tag:"path",attrs:{d:"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z"}}]},name:"cloud-sync",theme:"outlined"},Z=n(8711),I=function(e,t){return l.createElement(Z.Z,(0,c.Z)((0,c.Z)({},e),{},{ref:t,icon:x}))};I.displayName="CloudSyncOutlined";var S=l.forwardRef(I),w=n(92365),k=n(51606),R=n(34796),j=n(86032),C=n(48430),T=n(39126),N=n(14916),q=n(83388),z=n(80184),D=N.Z.Panel,P=function(){var e=(0,p.I0)(),t=(0,p.v9)((function(e){return e.warehouse.inventoryReceivedLoading})),n=[{key:"upload",icon:(0,z.jsx)(y.Z,{}),label:"Update Received Records by Upload"},{key:"syncInventoryReceived",icon:t?(0,z.jsx)(b.Z,{}):(0,z.jsx)(S,{}),label:"Sync Inventory Received"},{key:"downloadSampleXlsx",icon:(0,z.jsx)(w.Z,{}),label:"Download Sample Excel"}],a=(0,l.useState)("upload"),r=(0,v.Z)(a,2),i=r[0],c=r[1];return(0,z.jsx)(N.Z,{accordion:!0,ghost:!0,collapsible:"header",children:(0,z.jsxs)(D,{header:(0,z.jsx)(T.Q6N,{style:{fontSize:"200%"}}),children:[(0,z.jsx)(q.Z,{onClick:function(t){!function(t){switch(t){case"syncInventoryReceived":e((0,j.ZN)());break;case"downloadSampleXlsx":e((0,k.Io)());break;case"upload":break;default:var n="".concat(t," failed.");e((0,R.d)(n,400))}}(t.key),c(t.key)},selectedKeys:i,mode:"horizontal",items:n}),function(e){if("upload"===e)return(0,z.jsx)(C.Z,{customizedUpload:k.cx})}(i)]},"1")})},M=n(29205),U=n(93343),Y=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var s;return(0,o.Z)(this,n),(s=t.call(this,e)).formRef=l.createRef(),s.isEditing=function(e){return e._id===s.state.editingKey},s.edit=function(e){s.formRef.current.setFieldsValue((0,c.Z)({},e)),s.setState({editingKey:e._id})},s.cancel=function(){s.setState({editingKey:""})},s.save=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,i,o,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.formRef.current.validateFields();case 3:n=e.sent,i=(0,r.Z)(s.state.data),o=i.findIndex((function(e){return t===e.key})),o>-1?(d=i[o],i.splice(o,1,(0,c.Z)((0,c.Z)({},d),n)),s.setState({data:i}),s.setState({editingKey:""})):(i.push(n),s.setState({newData:i}),s.setState({editingKey:""})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),s.publish=function(e){},s.state={},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.props.getInventoryReceived()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.inventoryReceivedItems;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(U.yW,{title:"InventoryReceived"}),(0,z.jsx)(P,{}),(0,z.jsx)(m.Z,{ref:this.formRef,component:!1,children:(0,z.jsx)(M.Z,{loading:t,data:n,columns:g.$z,tableSettings:g.he})})]})}}]),n}(l.Component);Y.prototypes={getInventoryReceived:h().func.isRequired,loading:h().bool.isRequired,inventoryReceivedItems:h().array.isRequired};var K=(0,p.$j)((function(e){var t=e.warehouse.inventoryReceived,n=t.inventoryReceivedItems;return{loading:t.inventoryReceivedLoading,inventoryReceivedItems:n}}),{getInventoryReceived:k.ZK})(Y)},88367:function(e,t,n){n.d(t,{$I:function(){return r},$z:function(){return c},he:function(){return a},pT:function(){return i},qj:function(){return o},zW:function(){return s}});var a={bordered:!0,showHeader:!0,scroll:{},size:"middle",rowKey:"_id",tableLayout:"fixed",pagination:{defaultPageSize:20,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],position:["topRight","bottomRight"]},components:{body:{cell:n(30563).nK}}},r=[{title:"orderID",dataIndex:"orderID",editable:!0,searchable:!0},{title:"trackingID",dataIndex:"trackingID",editable:!0,searchable:!0},{title:"upc",dataIndex:"upc0",editable:!0,searchable:!0},{title:"qty",dataIndex:"upc0Qty",editable:!0,width:"5%"},{title:"bundle I",dataIndex:"upc1",editable:!0,searchable:!0},{title:"qty",dataIndex:"upc1Qty",editable:!0,width:"5%"},{title:"bundle II",dataIndex:"upc2",editable:!0,searchable:!0},{title:"qty",dataIndex:"upc2Qty",editable:!0,width:"5%"}],i=[{title:"OrderId",dataIndex:"orderID",editable:!1,searchable:!0,align:"center"},{title:"TrackingId",dataIndex:"trackingID",editable:!1,searchable:!0,align:"center"},{title:"UPC",dataIndex:"upc",editable:!1,searchable:!0,align:"center"},{title:"Qty",dataIndex:"qty",editable:!1,align:"center"},{title:"SN",dataIndex:"sn",searchable:!0,align:"center"},{title:"Create Time",dataIndex:"crtTm",searchable:!0,sorter:function(e,t){return e.crtStmp-t.crtStmp},responsive:["xxl"],align:"center"},{title:"Shipped Time",dataIndex:"mdfTm",searchable:!0,sorter:function(e,t){return e.mdfStmp-t.mdfStmp},responsive:["xxl"],align:"center"},{title:"Orgnization",dataIndex:"orgNm",searchable:!0,align:"center"},{title:"Ship By",dataIndex:"shipBy",searchable:!0,responsive:["xxl"],align:"center"},{title:"status",dataIndex:"status",searchable:!0,responsive:["xxl"],align:"center"}],c=[{title:"TrackingId",dataIndex:"trackingID",editable:!1,searchable:!0},{title:"UPC",dataIndex:"upc",editable:!1,searchable:!0},{title:"Qty",dataIndex:"qty",editable:!1,width:"5%"},{title:"Create Time",dataIndex:"crtTm",searchable:!0,sorter:function(e,t){return e.crtStmp-t.crtStmp}},{title:"Latest Modify Time",dataIndex:"mdfTm",searchable:!0,sorter:function(e,t){return e.mdfStmp-t.mdfStmp}},{title:"Orgnization",dataIndex:"orgNm",width:"8%"},{title:"Executor",dataIndex:"usrID"}],o=[{title:"Location ID",dataIndex:"loc",editable:!1,searchable:!0},{title:"UPC",dataIndex:"upc",editable:!1,searchable:!0},{title:"Qty",dataIndex:"qty",editable:!1,width:"10%"},{title:"Modify Time",dataIndex:"mdfTm",searchable:!0,sorter:function(e,t){return e.mdfStmp-t.mdfStmp}}],s=[{title:"Orgnization",dataIndex:"org",searchable:!0,sorter:function(e,t){return e.org.charCodeAt(0)-t.org.charCodeAt(0)},align:"center"},{title:"UPC",dataIndex:"upc",editable:!1,searchable:!0,align:"right"},{title:"Qty",dataIndex:"qty",editable:!1,width:"10%",sorter:function(e,t){return e.qty-t.qty},align:"center"},{title:"Last Updated Time",dataIndex:"mdfTm",searchable:!0,sorter:function(e,t){return e.mdfStmp-t.mdfStmp},align:"center"}]},86032:function(e,t,n){n.d(t,{$N:function(){return I},JK:function(){return S},MG:function(){return y},Wk:function(){return k},YK:function(){return w},ZN:function(){return v},kF:function(){return b},mi:function(){return x},uW:function(){return Z}});var a=n(29439),r=n(74165),i=n(1413),c=n(15861),o=n(31243),s=n(89353),d=n.n(s),u=n(72426),l=n.n(u),p=n(34219),f=n(34796),h=n(64344),m=n(97922),g=n(6803),v=function(){return function(e,t){e((0,h.tN)()),o.Z.get("/api/wms/inventoryReceive/v0/getInventoryReceiveInHalfMonth/updateGsheet",(0,p.Y2)(t)).then((function(t){e({type:g.Ou,payload:t.data}),e((0,m.j)()),e((0,m.h)(t.data.msg,t.status))})).catch((function(t){e({type:g.Ou,payload:[]}),e((0,f.d)(t.response.data.msg,t.response.status))}))}},y=function(e){return function(t,n){t((0,h.j5)()),o.Z.post("/api/wms/shipment/v0/getShipment",{requiredFields:e},(0,p.Y2)(n)).then((function(e){t({type:g.tn,payload:e.data})})).catch((function(e){t({type:g.tn,payload:[]}),t((0,f.b)()),t((0,f.d)(e.response.data.msg,e.response.status,g.Cg))}))}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){o.Z.post("/api/wms/shipment/v0/downloadShipmentXlsx",{requiredFields:e,responseType:"blob"}).then((function(e){d()(e.data,"shipmentRecords.xlsx")}))}},x=function(e){return function(){var t=(0,c.Z)((0,r.Z)().mark((function t(n,a){var o,s,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l()().format("MMMM-Do-YYYY-h-mm-a-"),s=o.concat("pickUp.pdf"),e.fileName=s,u=(0,p.Y2)(a),t.abrupt("return",fetch("/api/wmsV1/shipment/v1/downloadPickUpPDF",(0,i.Z)((0,i.Z)({method:"POST"},u),{},{headers:(0,i.Z)((0,i.Z)({},u.headers),{},{Accept:"application/pdf"}),body:JSON.stringify({requiredFields:e})})).then(function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var a,i,c,o,s,d,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.body.getReader(),i=[],s=0,d=t.headers.get("content-length");case 4:if(o){e.next=17;break}return e.next=7,a.read();case 7:if(u=e.sent,c=u.value,!(o=u.done)){e.next=12;break}return e.abrupt("return",i);case 12:s+=c.length,i.push(c),n((0,h.Wu)(s,d)),e.next=4;break;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var t=new Blob(e,{type:"application/pdf"});d()(t,s),n({type:g.aP})})).catch((function(e){n({type:g.aP}),n((0,f.b)()),n((0,f.d)(e.response.data.msg,e.response.status,g.Cg))})));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Z=function(e,t,n){return function(){var a=(0,c.Z)((0,r.Z)().mark((function a(c,s){return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c((0,h.T_)()),a.abrupt("return",o.Z.get("/api/wms/shipment/v0/getNeedToShipItems/limit/".concat(t,"/skip/").concat(n),(0,i.Z)((0,i.Z)({},(0,p.Y2)(s)),{},{signal:e,params:{docLimits:t,docSkip:n}})).then((function(e){c({type:g.ad,payload:e.data})})).catch((function(e){c({type:g.ad,payload:[]}),c((0,f.b)()),e.response&&c((0,f.d)(e.response.data.msg,e.response.status,g.Cg))})));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},I=function(e){return function(){var t=(0,c.Z)((0,r.Z)().mark((function t(n,a){var c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/api/wms/shipment/v0/getPendingAndTotal/".concat(e),(0,i.Z)((0,i.Z)({},(0,p.Y2)(a)),{},{params:{orgNm:e}})).then((function(e){return e.data})).catch((function(e){n((0,f.b)()),n((0,f.d)(e.response.data.msg,e.response.status,g.Cg))}));case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},S=function(){return function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/api/wmsV1/shipment/v1/getPickUpPendingAndTotal",(0,i.Z)({},(0,p.Y2)(n))).then((function(e){return e.data})).catch((function(e){t((0,f.b)()),t((0,f.d)(e.response.data.msg,e.response.status,g.Cg))}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},w=function(e){return function(t,n){var r=(0,a.Z)(e,2),c=r[0],s=r[1];o.Z.get("/api/wms/shipment/v0/getNotVerifiedShipment/dateMin/".concat(c,"/dateMax/").concat(s),(0,i.Z)((0,i.Z)({},(0,p.Y2)(n)),{},{params:{dateMin:c,dateMax:s}})).then((function(e){t({type:g.fF,payload:e.data})})).catch((function(e){t((0,f.b)()),t((0,f.d)(e.response.data.msg,e.response.status,g.Cg))}))}},k=function(e){return function(){var t=(0,c.Z)((0,r.Z)().mark((function t(n,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<=0)){t.next=3;break}return n((0,m.h)("No Shipment selected",202,g.mm)),t.abrupt("return");case 3:return n((0,h.Pc)()),t.abrupt("return",o.Z.post("/api/wms/needToShip/v0/confirmShipment",{allUnShipment:e},(0,p.Y2)(a)).then((function(e){n({type:g.fU}),n((0,m.h)(e.data.msg,e.status,g.fU))})).catch((function(e){console.log("err reason: ",e.response.data.reason),n((0,f.b)()),n((0,f.d)(e.response.data.msg,e.response.status,g.Cg,e.response.data.reason))})));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=189.b5922a85.chunk.js.map