"use strict";(self.webpackChunkmern_project=self.webpackChunkmern_project||[]).push([[598],{95352:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var r=n(15671),a=n(43144),i=n(60136),c=n(27277),s=n(72791),o=n(78687),l=n(1413),u=n(29439),d=n(77846),p=n(66106),h=n(30914),f=n(92365),m=n(11730),x=n(66818),g=n(87309),b=n(17828),Z=n(83099),y=n(86005),v=n(81694),I=n.n(v),S=n(85501),j=n(41818),w=n(71929),k=n(77268),C=n(61113),O=x.Z.Option;function P(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var T=function(e,t){var n,r=e.prefixCls,a=e.className,i=e.popupClassName,c=e.dropdownClassName,o=e.children,l=e.dataSource,d=(0,S.Z)(o);if(1===d.length&&(0,C.l$)(d[0])&&!P(d[0])){var p=(0,u.Z)(d,1);n=p[0]}var h,f=n?function(){return n}:void 0;h=d.length&&P(d[0])?o:l?l.map((function(e){if((0,C.l$)(e))return e;switch(typeof e){case"string":return s.createElement(O,{key:e,value:e},e);case"object":var t=e.value;return s.createElement(O,{key:t,value:t},e.text);default:return}})):[];var m=(0,s.useContext(w.E_).getPrefixCls)("select",r);return s.createElement(x.Z,Object.assign({ref:t,showArrow:!1},(0,j.Z)(e,["dataSource","dropdownClassName"]),{prefixCls:m,popupClassName:i||c,className:I()("".concat(m,"-auto-complete"),a),mode:x.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:f}),h)},N=s.forwardRef(T),M=(0,k.Z)(N);N.Option=O,N._InternalPanelDoNotUseOrYouWillBeFired=M;var U=N,D=n(65963),Y=n(6803),q=n(72426),_=n.n(q),E=n(80184),F=x.Z.Option,R=function(e){var t=e.title,n=e.onSubmit,r=e.setVisible,a=e.visible,i=e.form,c=(0,s.useState)(""),o=(0,u.Z)(c,2),l=o[0],f=o[1],v=(0,s.useState)([null,null]),I=(0,u.Z)(v,2),S=I[0],j=I[1];(0,s.useEffect)((function(){j([null,null])}),[l]);var w=function(){r(!1)},k=l===Y.tn,C=l===Y.tn||l===Y.wG,O=l!==Y._c,P=l===Y.tn;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.ZP,{type:"primary",onClick:function(){r(!0)},icon:(0,E.jsx)(m.Z,{}),children:t}),(0,E.jsx)(b.Z,{title:"Search Shipment",width:720,onClose:w,open:a,bodyStyle:{paddingBottom:80},extra:(0,E.jsxs)(Z.Z,{children:[(0,E.jsx)(g.ZP,{onClick:w,children:"Cancel"}),(0,E.jsx)(g.ZP,{onClick:n,type:"primary",children:"Submit"})]}),children:(0,E.jsxs)(d.Z,{layout:"vertical",hideRequiredMark:!1,form:i,children:[(0,E.jsxs)(p.Z,{gutter:16,children:[(0,E.jsx)(h.Z,{span:12,children:(0,E.jsx)(d.Z.Item,{name:"OrderId",label:"OrderId",children:(0,E.jsx)(y.Z,{disabled:!k,placeholder:"Please enter OrderId"})})}),(0,E.jsx)(h.Z,{span:12,children:(0,E.jsx)(d.Z.Item,{name:"trackingId",label:"TrackingId",children:(0,E.jsx)(y.Z,{disabled:!C,placeholder:"Please enter TrackingId"})})})]}),(0,E.jsxs)(p.Z,{gutter:16,children:[(0,E.jsx)(h.Z,{span:12,children:(0,E.jsx)(d.Z.Item,{name:"orgNm",label:"orgNm",children:(0,E.jsxs)(U,{showSearch:!0,autoClearSearchValue:!0,disabled:!O,placeholder:"Please select an organization",children:[(0,E.jsx)(U.Option,{value:"M",children:"M"}),(0,E.jsx)(U.Option,{value:"R",children:"R"}),(0,E.jsx)(U.Option,{value:"C",children:"C"}),(0,E.jsx)(U.Option,{value:"X",children:"X"})]})})}),(0,E.jsx)(h.Z,{span:12,children:(0,E.jsx)(d.Z.Item,{name:"type",label:"Type",rules:[{required:!0,message:"Please choose the type"}],children:(0,E.jsxs)(x.Z,{onSelect:function(e){f(e)},placeholder:"Please choose the type",children:[(0,E.jsx)(F,{value:Y.tn,children:"OutBound Shipment"}),(0,E.jsx)(F,{value:Y.wG,children:"InBound Receival"}),(0,E.jsx)(F,{value:Y._c,children:"Location Inventory"}),(0,E.jsx)(F,{value:Y.XI,children:"Seller Inventory"})]})})})]}),(0,E.jsxs)(p.Z,{gutter:16,children:[(0,E.jsx)(h.Z,{span:12,children:(0,E.jsx)(d.Z.Item,{name:"upc",label:"UPC",children:(0,E.jsx)(y.Z,{disabled:!1,placeholder:"Please enter UPC"})})}),(0,E.jsx)(h.Z,{span:12,children:(0,E.jsx)(d.Z.Item,{name:"sn",label:"SN",children:(0,E.jsx)(y.Z,{disabled:!P,placeholder:"Please enter SN"})})})]}),(0,E.jsx)(p.Z,{gutter:16,children:(0,E.jsx)(h.Z,{span:12,children:(0,E.jsx)(d.Z.Item,{name:"dateTime",label:"DateTime",children:(0,E.jsx)(D.Z.RangePicker,{style:{width:"100%"},value:S,disabledDate:function(e){return function(e){return _()().diff(e,"days")<0}(e)},onCalendarChange:function(e){return j(e)},onChange:function(e){return j(e)},onOpenChange:function(e){},format:"YYYY-MM-DD",getPopupContainer:function(e){return e.parentElement}})})})})]})})]})},z=n(29205),B=n(88367),G=n(86032),W=n(51606),L=n(83783),X=function(){var e=(0,o.I0)(),t=d.Z.useForm(),n=(0,u.Z)(t,1)[0],r=(0,s.useState)(null),a=(0,u.Z)(r,2),i=a[0],c=a[1],m=(0,s.useState)(!1),x=(0,u.Z)(m,2),g=x[0],b=x[1],Z=(0,s.useState)(B.zW),y=(0,u.Z)(Z,2),v=y[0],I=y[1],S=(0,o.v9)((function(e){return e.warehouse.shipmentSearch})),j=S.items,w=S.category,k=S.itemsLoading;(0,s.useEffect)((function(){e((0,W.p2)({gt:0}))}),[]);var C=(0,s.useCallback)((function(t){!function(){var n="string"===typeof t.type?t.type.toUpperCase():t.type;switch(n){case Y.tn:e((0,G.MG)(t)),I(B.pT);break;case Y.wG:e((0,W.Xx)(t)),I(B.$z);break;case Y._c:e((0,W.M4)(t)),I(B.qj);break;case Y.XI:e((0,W.p2)(t)),I(B.zW);break;default:console.warn("Unknow search category: ",n)}}()}),[]);(0,s.useEffect)((function(){i&&C(i)}),[w,i,C]);var O=function(){n.validateFields().then((function(e){var t=(0,L.Jo)(e);c(t),b(!1),console.log("Form values:",t)})).catch((function(e){console.error(e)}))},P=(0,s.useCallback)((function(){if(null!==i)switch(w){case Y.tn:e((0,G.kF)(i));break;case Y.wG:e((0,W.Bx)(i));break;case Y._c:e((0,W.NP)(i));break;default:return}}),[w,i]);return(0,E.jsx)(p.Z,{children:(0,E.jsx)(h.Z,{id:"".concat(w),children:(0,E.jsx)(z.Z,{dataSource:j,columns:v,loading:k,tableUserSettings:(0,l.Z)((0,l.Z)({},B.he),{},{title:function(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(R,{visible:g,title:"Search my Bean Brain",onSubmit:O,setVisible:b,form:n}),(0,E.jsx)(f.Z,{style:{alignSelf:"center",float:"right",lineHeight:"32px"},onClick:P})]})}})})})})},Q=n(93343),$=function(e){(0,i.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).createCategoryHeader=function(e){switch(e){case Y.tn:return"Search OutBound Shipment";case Y.wG:return"Search Receival Shipment";case Y._c:return"Search Location Inventory";case Y.XI:return"Search Seller Inventory";default:return"UNKNOWN"}},a}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props.category,t=this.createCategoryHeader(e);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Q.yW,{title:t}),(0,E.jsx)(X,{})]})}}]),n}(s.Component),A=(0,o.$j)((function(e){return{category:e.warehouse.shipmentSearch.category}}),null)($)},88367:function(e,t,n){n.d(t,{$I:function(){return a},$z:function(){return c},he:function(){return r},pT:function(){return i},qj:function(){return s},zW:function(){return o}});var r={bordered:!0,showHeader:!0,scroll:{},size:"middle",rowKey:"_id",tableLayout:"fixed",pagination:{defaultPageSize:20,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],position:["topRight","bottomRight"]},components:{body:{cell:n(30563).nK}}},a=[{title:"orderID",dataIndex:"orderID",editable:!0,searchable:!0},{title:"trackingID",dataIndex:"trackingID",editable:!0,searchable:!0},{title:"upc",dataIndex:"upc0",editable:!0,searchable:!0},{title:"qty",dataIndex:"upc0Qty",editable:!0,width:"5%"},{title:"bundle I",dataIndex:"upc1",editable:!0,searchable:!0},{title:"qty",dataIndex:"upc1Qty",editable:!0,width:"5%"},{title:"bundle II",dataIndex:"upc2",editable:!0,searchable:!0},{title:"qty",dataIndex:"upc2Qty",editable:!0,width:"5%"}],i=[{title:"OrderId",dataIndex:"orderID",editable:!1,searchable:!0,align:"center"},{title:"TrackingId",dataIndex:"trackingID",editable:!1,searchable:!0,align:"center"},{title:"UPC",dataIndex:"upc",editable:!1,searchable:!0,align:"center"},{title:"Qty",dataIndex:"qty",editable:!1,align:"center"},{title:"SN",dataIndex:"sn",searchable:!0,align:"center"},{title:"Create Time",dataIndex:"crtTm",searchable:!0,sorter:function(e,t){return e.crtStmp-t.crtStmp},responsive:["xxl"],align:"center"},{title:"Shipped Time",dataIndex:"mdfTm",searchable:!0,sorter:function(e,t){return e.mdfStmp-t.mdfStmp},responsive:["xxl"],align:"center"},{title:"Orgnization",dataIndex:"orgNm",searchable:!0,align:"center"},{title:"Ship By",dataIndex:"shipBy",searchable:!0,responsive:["xxl"],align:"center"},{title:"status",dataIndex:"status",searchable:!0,responsive:["xxl"],align:"center"}],c=[{title:"TrackingId",dataIndex:"trackingID",editable:!1,searchable:!0},{title:"UPC",dataIndex:"upc",editable:!1,searchable:!0},{title:"Qty",dataIndex:"qty",editable:!1,width:"5%"},{title:"Create Time",dataIndex:"crtTm",searchable:!0,sorter:function(e,t){return e.crtStmp-t.crtStmp}},{title:"Latest Modify Time",dataIndex:"mdfTm",searchable:!0,sorter:function(e,t){return e.mdfStmp-t.mdfStmp}},{title:"Orgnization",dataIndex:"orgNm",width:"8%"},{title:"Executor",dataIndex:"usrID"}],s=[{title:"Location ID",dataIndex:"loc",editable:!1,searchable:!0},{title:"UPC",dataIndex:"upc",editable:!1,searchable:!0},{title:"Qty",dataIndex:"qty",editable:!1,width:"10%"},{title:"Modify Time",dataIndex:"mdfTm",searchable:!0,sorter:function(e,t){return e.mdfStmp-t.mdfStmp}}],o=[{title:"Orgnization",dataIndex:"org",searchable:!0,sorter:function(e,t){return e.org.charCodeAt(0)-t.org.charCodeAt(0)},align:"center"},{title:"UPC",dataIndex:"upc",editable:!1,searchable:!0,align:"right"},{title:"Qty",dataIndex:"qty",editable:!1,width:"10%",sorter:function(e,t){return e.qty-t.qty},align:"center"},{title:"Last Updated Time",dataIndex:"mdfTm",searchable:!0,sorter:function(e,t){return e.mdfStmp-t.mdfStmp},align:"center"}]},86032:function(e,t,n){n.d(t,{$N:function(){return I},JK:function(){return S},MG:function(){return b},Wk:function(){return w},YK:function(){return j},ZN:function(){return g},kF:function(){return Z},mi:function(){return y},uW:function(){return v}});var r=n(29439),a=n(74165),i=n(1413),c=n(15861),s=n(31243),o=n(89353),l=n.n(o),u=n(72426),d=n.n(u),p=n(34219),h=n(34796),f=n(64344),m=n(97922),x=n(6803),g=function(){return function(e,t){e((0,f.tN)()),s.Z.get("/api/wms/inventoryReceive/v0/getInventoryReceiveInHalfMonth/updateGsheet",(0,p.Y2)(t)).then((function(t){e({type:x.Ou,payload:t.data}),e((0,m.j)()),e((0,m.h)(t.data.msg,t.status))})).catch((function(t){e({type:x.Ou,payload:[]}),e((0,h.d)(t.response.data.msg,t.response.status))}))}},b=function(e){return function(t,n){t((0,f.j5)()),s.Z.post("/api/wms/shipment/v0/getShipment",{requiredFields:e},(0,p.Y2)(n)).then((function(e){t({type:x.tn,payload:e.data})})).catch((function(e){t({type:x.tn,payload:[]}),t((0,h.b)()),t((0,h.d)(e.response.data.msg,e.response.status,x.Cg))}))}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){s.Z.post("/api/wms/shipment/v0/downloadShipmentXlsx",{requiredFields:e,responseType:"blob"}).then((function(e){l()(e.data,"shipmentRecords.xlsx")}))}},y=function(e){return function(){var t=(0,c.Z)((0,a.Z)().mark((function t(n,r){var s,o,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=d()().format("MMMM-Do-YYYY-h-mm-a-"),o=s.concat("pickUp.pdf"),e.fileName=o,u=(0,p.Y2)(r),t.abrupt("return",fetch("/api/wmsV1/shipment/v1/downloadPickUpPDF",(0,i.Z)((0,i.Z)({method:"POST"},u),{},{headers:(0,i.Z)((0,i.Z)({},u.headers),{},{Accept:"application/pdf"}),body:JSON.stringify({requiredFields:e})})).then(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,i,c,s,o,l,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.body.getReader(),i=[],o=0,l=t.headers.get("content-length");case 4:if(s){e.next=17;break}return e.next=7,r.read();case 7:if(u=e.sent,c=u.value,!(s=u.done)){e.next=12;break}return e.abrupt("return",i);case 12:o+=c.length,i.push(c),n((0,f.Wu)(o,l)),e.next=4;break;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var t=new Blob(e,{type:"application/pdf"});l()(t,o),n({type:x.aP})})).catch((function(e){n({type:x.aP}),n((0,h.b)()),n((0,h.d)(e.response.data.msg,e.response.status,x.Cg))})));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},v=function(e,t,n){return function(){var r=(0,c.Z)((0,a.Z)().mark((function r(c,o){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c((0,f.T_)()),r.abrupt("return",s.Z.get("/api/wms/shipment/v0/getNeedToShipItems/limit/".concat(t,"/skip/").concat(n),(0,i.Z)((0,i.Z)({},(0,p.Y2)(o)),{},{signal:e,params:{docLimits:t,docSkip:n}})).then((function(e){c({type:x.ad,payload:e.data})})).catch((function(e){c({type:x.ad,payload:[]}),c((0,h.b)()),e.response&&c((0,h.d)(e.response.data.msg,e.response.status,x.Cg))})));case 2:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},I=function(e){return function(){var t=(0,c.Z)((0,a.Z)().mark((function t(n,r){var c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("/api/wms/shipment/v0/getPendingAndTotal/".concat(e),(0,i.Z)((0,i.Z)({},(0,p.Y2)(r)),{},{params:{orgNm:e}})).then((function(e){return e.data})).catch((function(e){n((0,h.b)()),n((0,h.d)(e.response.data.msg,e.response.status,x.Cg))}));case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},S=function(){return function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/api/wmsV1/shipment/v1/getPickUpPendingAndTotal",(0,i.Z)({},(0,p.Y2)(n))).then((function(e){return e.data})).catch((function(e){t((0,h.b)()),t((0,h.d)(e.response.data.msg,e.response.status,x.Cg))}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},j=function(e){return function(t,n){var a=(0,r.Z)(e,2),c=a[0],o=a[1];s.Z.get("/api/wms/shipment/v0/getNotVerifiedShipment/dateMin/".concat(c,"/dateMax/").concat(o),(0,i.Z)((0,i.Z)({},(0,p.Y2)(n)),{},{params:{dateMin:c,dateMax:o}})).then((function(e){t({type:x.fF,payload:e.data})})).catch((function(e){t((0,h.b)()),t((0,h.d)(e.response.data.msg,e.response.status,x.Cg))}))}},w=function(e){return function(){var t=(0,c.Z)((0,a.Z)().mark((function t(n,r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<=0)){t.next=3;break}return n((0,m.h)("No Shipment selected",202,x.mm)),t.abrupt("return");case 3:return n((0,f.Pc)()),t.abrupt("return",s.Z.post("/api/wms/needToShip/v0/confirmShipment",{allUnShipment:e},(0,p.Y2)(r)).then((function(e){n({type:x.fU}),n((0,m.h)(e.data.msg,e.status,x.fU))})).catch((function(e){console.log("err reason: ",e.response.data.reason),n((0,h.b)()),n((0,h.d)(e.response.data.msg,e.response.status,x.Cg,e.response.data.reason))})));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=598.e1ad2b1e.chunk.js.map